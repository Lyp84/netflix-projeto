create table sessao_grypo (
    id serial primary key,
    grupo_id INTEGER references grupo(id) on delete cascade,
    conteudo_id  INTEGER references conteudo(id) on delete cascade,
    data_hora_inicio TIMESTAMP not null default current_timestamp,
    data_hora_fim TIMESTAMP,
    status VARCHAR(20) DEFAULT 'ativa' check (status in ('ativa', 'concluida','cancelada')),
    criador _perfil_id int references perfil(id),
    unique(grupo_id, conteudo_id)
);

create table grupo (
    id serial primary key,
    nome varchar(100) not null,
    usuario_id integer references usuario(id) on delete cascade,
    descricao text
);

create table grupo_membro (
    grupo_id integer references grupo(id) on delete cascade,
    perfil_id integer references perfil(id) on delete cascade,
    data_entrada timestamp default current_timestamp,
    primary key (grupo_id, perfil_id)
);

